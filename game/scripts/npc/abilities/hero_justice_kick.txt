//=====================================================================================================
// HERO: Justice Kick
//=====================================================================================================
"hero_justice_kick"
{
	// General
	//-------------------------------------------------------------------------------------------------------------
	"BaseClass"						"ability_datadriven"
	"AbilityType"					"DOTA_ABILITY_TYPE_BASIC"
	"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
	"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	"AbilityUnitTargetFlags"		"DOTA_UNIT_TARGET_FLAG_NONE"
	"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
	"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	"AbilityTextureName"			"hero_justice_kick"
	"AnimationPlaybackRate"			"1.4"
	"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_5"

	// Casting
	//-------------------------------------------------------------------------------------------------------------
	"AbilityCastRange"				"125"
	"AbilityCastPoint"				"0.3"
	
	// Time		
	//-------------------------------------------------------------------------------------------------------------
	"AbilityCooldown"				"10 8 6 4"

	// Cost
	//-------------------------------------------------------------------------------------------------------------
	"AbilityManaCost"				"50"
	
	// Stats
	//-------------------------------------------------------------------------------------------------------------
	"AbilityModifierSupportValue"	"0.0"	// All about the damage

	// Special
	//-------------------------------------------------------------------------------------------------------------
	"AbilitySpecial"
	{
		"01"
		{
			"var_type"					"FIELD_INTEGER"
			"damage"					"90 120 150 180"
		}
		"02"
		{
			"var_type"					"FIELD_INTEGER"
			"knockback"					"475"
		}
		"03"
		{
			"var_type"					"FIELD_INTEGER"
			"slow"						"-20 -30 -40 -50"
		}
		"04"
		{
			"var_type"					"FIELD_INTEGER"
			"duration"					"2"
		}
	}
	
	"precache"
		{
		"soundfile" "soundevents/game_sounds_heroes/game_sounds_tusk.vsndevts"
		"soundfile" "soundevents/hero_hero.vsndevts"
		"particle" "particles/units/heroes/hero_hero/hero_justice_kick.vpcf"
		"particle" "particles/units/heroes/hero_hero/one_punch_mega_crit.vpcf"
		}
		
	"OnSpellStart"
		{
			"Knockback"
			{
				"Target"            "TARGET"
				"Center" 	        "CASTER"
				"Distance"	        "%knockback"
				"Duration"	        "0.6"
				"Height"	        "125"
				"IsFixedDistance"	"1"
				"ShouldStun"        "1"
			}
			"Damage"
			{
				"Target"		"TARGET"
				"Type"			"DAMAGE_TYPE_MAGICAL"
				"Damage"		"%damage"
			}
			"ApplyModifier"
			{
				"ModifierName"	"modifier_justice_kick_slow"
				"Target" 		"TARGET"
				"Duration"		"%duration"
			}
			"FireSound"
			{
				"EffectName"	"Hero.JusticeKick"
				"Target"
				{
					"Center"  	"TARGET"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_DEAD"
				}
			}
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_hero/hero_justice_kick.vpcf"
				"EffectAttachType"  "follow_hitloc"
				"Target"
				{
					"Center"  	"TARGET"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_DEAD"
				}
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/hero_abilities.lua"
				"Function"		"JusticeKickCheckOpponent"
			}
		}
		
	"Modifiers"
		{
			"modifier_justice_kick_slow"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsDebuff"			"1"
			
				"Properties"
				{
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%slow"
				}
			}
		}
}
