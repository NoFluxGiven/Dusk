//=====================================================================================================
// MIFUNE: Zanmato
//=====================================================================================================

///@version 2.3
///@chg Reworked: now performs a deadly strike against a single target. If the unit is below [20/25/30%] Health, they are instantly killed. Otherwise, they take [300] Physical damage. Has a [0.6s] delay before the damage occurs.
///@abilityspecials threshold, base_damage, delay
///@chg 
"mifune_zanmato"
{
	// General
	//-------------------------------------------------------------------------------------------------------------
	"BaseClass"						"ability_lua"
	"ScriptFile"					"lua/abilities/mifune_zanmato"
	"AbilityType"					"DOTA_ABILITY_TYPE_ULTIMATE"
	"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"
	"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
	"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"
	"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
	"AbilityUnitTargetFlags"		"DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
	"AbilityTextureName"			"mifune_zanmato"
	"AnimationPlaybackRate"			"0.8"
	"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"

	// Casting
	//-------------------------------------------------------------------------------------------------------------
	"AbilityCastRange"				"650 700 750"
	"AbilityCastPoint"				"0.4"
	
	// Time		
	//-------------------------------------------------------------------------------------------------------------
	"AbilityCooldown"				"125"

	// Cost
	//-------------------------------------------------------------------------------------------------------------
	"AbilityManaCost"				"200"
	
	// Stats
	//-------------------------------------------------------------------------------------------------------------
	"AbilityModifierSupportValue"	"0.0"	// All about the damage

	// Special
	//-------------------------------------------------------------------------------------------------------------
	"AbilitySpecial"
	{
		"01"
		{
			"var_type"					"FIELD_INTEGER"
			"threshold"					"22"
		}
		"02"
		{
			"var_type"					"FIELD_FLOAT"
			"delay"						"1.3"
		}
					
		"03"
		{
			"var_type"					"FIELD_INTEGER"
			"base_percent_damage"		"22"
		}

		"04"
		{
			"var_type"					"FIELD_INTEGER"
			"bonus_agility"				"4 6 8"
		}

		   
	}
	
	"precache"
	{
		"soundfile"						"soundevents/hero_mifune.vsndevts"
		"particle"						"particles/units/heroes/hero_mifune/zanmato_slash_2.vpcf"
		"particle"						"particles/units/heroes/hero_jakiro/jakiro_liquid_fire_explosion.vpcf"
	}

}

